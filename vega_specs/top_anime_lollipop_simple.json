{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "background": "#0f0f12",
  "title": {
    "text": "Most Popular Anime (by MAL Members)",
    "color": "#e5e7eb",
    "subtitle": "Source: MyAnimeList (members as popularity proxy) Â· Hover for details",
    "subtitleColor": "#9ca3af",
    "anchor": "start",
    "fontSize": 16,
    "subtitleFontSize": 12
  },
  "width": 660,
  "height": 520,
  "data": {
    "url": "https://raw.githubusercontent.com/ssha0312/FIT3179-A2/refs/heads/main/data/top_anime.csv",
    "format": { "type": "csv", "parse": { "watch_count": "number" } }
  },
  "encoding": {
    "y": {
      "field": "title",
      "type": "ordinal",
      "sort": { "field": "watch_count", "op": "max", "order": "descending" },
      "axis": { "title": null, "labelColor": "#e5e7eb" }
    }
  },
  "layer": [
    {
      "mark": { "type": "rule", "stroke": "#b91c1c", "strokeWidth": 2 },
      "encoding": {
        "x": {
          "datum": 0,
          "type": "quantitative",
          "scale": { "zero": true }
        },
        "x2": {
          "field": "watch_count",
          "type": "quantitative",
          "scale": { "zero": true }
        }
      }
    },
    {
      "mark": { "type": "circle", "color": "#ef4444", "size": 130 },
      "encoding": {
        "x": {
          "field": "watch_count",
          "type": "quantitative",
          "title": "Members",
          "axis": { "labelColor": "#e5e7eb", "titleColor": "#e5e7eb" },
          "scale": { "zero": true }
        },
        "tooltip": [
          { "field": "title", "type": "nominal", "title": "Anime" },
          { "field": "watch_count", "type": "quantitative", "title": "Members", "format": "," }
        ]
      }
    },
    {
      "mark": { "type": "text", "align": "left", "dx": 6, "fontSize": 11, "color": "#e5e7eb" },
      "encoding": {
        "x": { "field": "watch_count", "type": "quantitative", "scale": { "zero": true } },
        "text": { "field": "watch_count", "type": "quantitative", "format": "," }
      }
    }
  ],
  "config": { "view": { "stroke": "transparent" } }
}
